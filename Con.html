<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEARN-LOOP - Senior Junior Collaboration Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @keyframes appEntry {
            0% {
                opacity: 0;
                transform: scale(0.95);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }
        .app-entry {
            animation: appEntry 0.9s ease-out forwards;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .chat-bubble {
            animation: float 6s ease-in-out infinite;
        }
        .code-icon {
            animation: pulse 2s infinite;
        }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .message-enter {
            animation: messageEnter 0.3s ease-out;
        }
        @keyframes messageEnter {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body class="font-sans bg-gray-50">
    <!-- Preloader -->
    <div id="preloader" class="fixed inset-0 z-50 flex items-center justify-center gradient-bg">
        <div class="text-center">
            <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-white flex items-center justify-center">
                <i class="fas fa-code text-3xl text-purple-600 code-icon"></i>
            </div>
            <h1 class="text-2xl font-bold text-white">LEARN-LOOP</h1>
            <p class="text-white mt-2">Loading the future of collaboration...</p>
        </div>
    </div>

    <!-- Email Verification Modal -->
    <div id="emailModal" class="fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-50 hidden">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md p-8">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">LEARN-LOOP Email Verification</h2>
                <button id="closeEmailModal" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div>
                <div class="mb-4">
                    <label class="block text-gray-700 mb-2" for="verifyEmail">VVCE Email</label>
                    <input type="email" id="verifyEmail" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="yourname@vvce.ac.in">
                    <p id="emailError" class="text-red-500 text-sm mt-1 hidden">Please use your @vvce.ac.in email</p>
                </div>
                <button id="verifyEmailBtn" class="w-full gradient-bg text-white py-3 rounded-lg font-semibold hover:opacity-90 transition">Verify Email</button>
            </div>
        </div>
    </div>

    <!-- Department/Year Selection Modal -->
    <div id="deptYearModal" class="fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-50 hidden">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md p-8">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">Select Your Details</h2>
                <button id="closeDeptYearModal" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div>
                <div class="mb-4">
                    <label class="block text-gray-700 mb-2" for="selectYear">Academic Year</label>
                    <select id="selectYear" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                        <option value="">Select your year</option>
                        <option value="1">1st Year</option>
                        <option value="2">2nd Year</option>
                        <option value="3">3rd Year</option>
                        <option value="4">4th Year</option>
                    </select>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 mb-2" for="selectBranch">Branch</label>
                    <select id="selectBranch" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                        <option value="">Select your branch</option>
                        <option value="CSE">Computer Science</option>
                        <option value="ISE">Information Science</option>
                        <option value="ECE">Electronics</option>
                        <option value="EEE">Electrical</option>
                        <option value="MECH">Mechanical</option>
                        <option value="CIVIL">Civil</option>
                    </select>
                </div>
                <button id="confirmDetailsBtn" class="w-full gradient-bg text-white py-3 rounded-lg font-semibold hover:opacity-90 transition">Continue</button>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="authModal" class="fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-50 hidden">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md p-8">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">Welcome to LEARN-LOOP</h2>
                <button id="closeAuthModal" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div id="loginForm">
                <div class="mb-4">
                    <label class="block text-gray-700 mb-2" for="loginEmail">LEARN-LOOP Email</label>
                    <input type="email" id="loginEmail" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="yourname@vvce.ac.in">
                    <p id="emailError" class="text-red-500 text-sm mt-1 hidden">Please use your @vvce.ac.in email</p>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 mb-2" for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="••••••••">
                </div>
                <button id="loginBtn" class="w-full gradient-bg text-white py-3 rounded-lg font-semibold hover:opacity-90 transition">Login</button>
                <p class="text-center mt-4 text-gray-600">New here? <button id="showRegisterBtn" class="text-purple-600 font-medium hover:underline">Create account</button></p>
            </div>
            
            <div id="registerForm" class="hidden">
                <div class="mb-4">
                    <label class="block text-gray-700 mb-2" for="registerName">Full Name</label>
                    <input type="text" id="registerName" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="John Doe">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 mb-2" for="registerEmail">LEARN-LOOP Email</label>
                    <input type="email" id="registerEmail" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="yourname@vvce.ac.in">
                    <p id="registerEmailError" class="text-red-500 text-sm mt-1 hidden">Please use your @vvce.ac.in email</p>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 mb-2" for="registerPassword">Password</label>
                    <input type="password" id="registerPassword" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="••••••••">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 mb-2" for="registerYear">Academic Year</label>
                    <select id="registerYear" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                        <option value="">Select your year</option>
                        <option value="1">1st Year</option>
                        <option value="2">2nd Year</option>
                        <option value="3">3rd Year</option>
                        <option value="4">4th Year</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 mb-2" for="registerBranch">Branch</label>
                    <select id="registerBranch" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                        <option value="">Select your branch</option>
                        <option value="CSE">Computer Science</option>
                        <option value="ISE">Information Science</option>
                        <option value="ECE">Electronics</option>
                        <option value="EEE">Electrical</option>
                        <option value="MECH">Mechanical</option>
                        <option value="CIVIL">Civil</option>
                    </select>
                </div>
                <button id="registerBtn" class="w-full gradient-bg text-white py-3 rounded-lg font-semibold hover:opacity-90 transition">Register</button>
                <p class="text-center mt-4 text-gray-600">Already have an account? <button id="showLoginBtn" class="text-purple-600 font-medium hover:underline">Login</button></p>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="app" class="hidden">
        <!-- Header -->
        <header class="gradient-bg text-white shadow-lg">
            <div class="container mx-auto px-4 py-4 flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-code text-2xl"></i>
                    <h1 class="text-xl font-bold">LEARN-LOOP</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="relative group">
                        <button id="userMenuBtn" class="flex items-center space-x-2 focus:outline-none">
                            <div class="w-8 h-8 rounded-full bg-white flex items-center justify-center">
                                <i class="fas fa-user text-purple-600"></i>
                            </div>
                            <span id="usernameDisplay" class="font-medium">User</span>
                        </button>
                        <div id="userMenu" class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 hidden">
                            <div class="px-4 py-2 border-b">
                                <p class="text-sm font-medium text-gray-800" id="userEmailDisplay">user@vvce.ac.in</p>
                                <p class="text-xs text-gray-500" id="userYearBranchDisplay">3rd Year CSE</p>
                            </div>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Profile</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">AICTE Points</a>
                            <a href="#" id="logoutBtn" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center">
                                <i class="fas fa-sign-out-alt mr-2"></i> Logout
                            </a>
                        </div>
                    </div>
                    <div class="relative">
                        <button id="notificationBtn" class="relative">
                            <i class="fas fa-bell text-xl"></i>
                            <span class="absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-white text-xs flex items-center justify-center">3</span>
                        </button>
                        <div id="notificationMenu" class="absolute right-0 mt-2 w-64 bg-white rounded-md shadow-lg py-1 z-50 hidden">
                            <div class="px-4 py-2 border-b">
                                <p class="text-sm font-medium text-gray-800">Notifications</p>
                            </div>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 border-b border-gray-100">
                                <p class="font-medium">New answer to your question</p>
                                <p class="text-xs text-gray-500">2 hours ago</p>
                            </a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 border-b border-gray-100">
                                <p class="font-medium">Project invitation</p>
                                <p class="text-xs text-gray-500">5 hours ago</p>
                            </a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                <p class="font-medium">New event added</p>
                                <p class="text-xs text-gray-500">1 day ago</p>
                            </a>
                            <div class="px-4 py-2 border-t">
                                <a href="#" class="text-xs text-purple-600 hover:underline">View all notifications</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto px-4 py-6">
            <div class="flex flex-col lg:flex-row gap-6">
                <!-- Left Sidebar -->
                <div class="w-full lg:w-1/4 bg-white rounded-lg shadow-md p-4">
                    <div class="mb-6">
                        <h2 class="text-lg font-semibold text-gray-800 mb-3">Quick Actions</h2>
                        <button id="newQuestionBtn" class="w-full gradient-bg text-white py-2 rounded-lg font-medium mb-2 flex items-center justify-center">
                            <i class="fas fa-plus mr-2"></i> Ask a Question
                        </button>
                        <button class="w-full bg-gray-100 text-gray-800 py-2 rounded-lg font-medium mb-2 flex items-center justify-center hover:bg-gray-200">
                            <i class="fas fa-project-diagram mr-2"></i> Start Project
                        </button>
                    </div>

                    <div class="mb-6">
                        <h2 class="text-lg font-semibold text-gray-800 mb-3">Categories</h2>
                        <div class="space-y-2">
                            <button class="category-btn w-full text-left px-3 py-2 rounded-lg hover:bg-purple-50 text-purple-700 font-medium flex items-center" data-category="all">
                                <i class="fas fa-globe mr-2"></i> All Questions
                            </button>
                            <button class="category-btn w-full text-left px-3 py-2 rounded-lg hover:bg-blue-50 text-blue-700 font-medium flex items-center" data-category="cse">
                                <i class="fas fa-laptop-code mr-2"></i> Computer Science
                            </button>
                            <button class="category-btn w-full text-left px-3 py-2 rounded-lg hover:bg-green-50 text-green-700 font-medium flex items-center" data-category="ece">
                                <i class="fas fa-microchip mr-2"></i> Electronics
                            </button>
                            <button class="category-btn w-full text-left px-3 py-2 rounded-lg hover:bg-yellow-50 text-yellow-700 font-medium flex items-center" data-category="mech">
                                <i class="fas fa-cogs mr-2"></i> Mechanical
                            </button>
                            <button class="category-btn w-full text-left px-3 py-2 rounded-lg hover:bg-red-50 text-red-700 font-medium flex items-center" data-category="math">
                                <i class="fas fa-square-root-alt mr-2"></i> Mathematics
                            </button>
                        </div>
                    </div>

                    <div>
                        <h2 class="text-lg font-semibold text-gray-800 mb-3">Top Seniors</h2>
                        <div class="space-y-3">
                            <div class="flex items-center p-2 rounded-lg hover:bg-gray-100">
                                <div class="w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center mr-3">
                                    <i class="fas fa-user-graduate text-purple-600"></i>
                                </div>
                                <div>
                                    <p class="font-medium">Rahul Sharma</p>
                                    <p class="text-xs text-gray-500">4th Year CSE • 142 AICTE Points</p>
                                </div>
                            </div>
                            <div class="flex items-center p-2 rounded-lg hover:bg-gray-100">
                                <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3">
                                    <i class="fas fa-user-graduate text-blue-600"></i>
                                </div>
                                <div>
                                    <p class="font-medium">Priya Patel</p>
                                    <p class="text-xs text-gray-500">4th Year ECE • 98 AICTE Points</p>
                                </div>
                            </div>
                            <div class="flex items-center p-2 rounded-lg hover:bg-gray-100">
                                <div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center mr-3">
                                    <i class="fas fa-user-graduate text-green-600"></i>
                                </div>
                                <div>
                                    <p class="font-medium">Amit Kumar</p>
                                    <p class="text-xs text-gray-500">3rd Year ME • 76 AICTE Points</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main Chat Area -->
                <div class="w-full lg:w-2/4 bg-white rounded-lg shadow-md p-4">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-semibold text-gray-800">Recent Questions</h2>
                        <div class="relative">
                            <select id="filterQuestions" class="appearance-none bg-gray-100 border border-gray-300 rounded-lg px-4 py-2 pr-8 focus:outline-none focus:ring-2 focus:ring-purple-500">
                                <option value="recent">Most Recent</option>
                                <option value="popular">Most Popular</option>
                                <option value="unanswered">Unanswered</option>
                                <option value="myquestions">My Questions</option>
                            </select>
                            <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
                                <i class="fas fa-chevron-down text-gray-500"></i>
                            </div>
                        </div>
                    </div>

                    <div id="questionsList" class="space-y-4">
                        <!-- Question cards will be dynamically inserted here -->
                    </div>
                </div>

                <!-- Right Sidebar -->
                <div class="w-full lg:w-1/4 bg-white rounded-lg shadow-md p-4">
                    <div class="mb-6">
                        <h2 class="text-lg font-semibold text-gray-800 mb-3">Your Stats</h2>
                        <div class="bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-4">
                            <div class="flex justify-between items-center mb-3">
                                <div>
                                    <p class="text-sm text-gray-600">AICTE Points</p>
                                    <p class="text-2xl font-bold text-purple-600">24</p>
                                </div>
                                <div class="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center">
                                    <i class="fas fa-medal text-purple-600 text-xl"></i>
                                </div>
                            </div>
                            <div class="flex justify-between text-sm">
                                <div>
                                    <p class="text-gray-600">Questions Asked</p>
                                    <p class="font-medium">8</p>
                                </div>
                                <div>
                                    <p class="text-gray-600">Answers Given</p>
                                    <p class="font-medium">12</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h2 class="text-lg font-semibold text-gray-800 mb-3">Active Projects</h2>
                        <div class="space-y-3">
                            <div class="p-3 bg-gray-50 rounded-lg border border-gray-200">
                                <p class="font-medium text-sm">AI Chatbot Development</p>
                                <p class="text-xs text-gray-500 mb-2">CSE Project • 3 members</p>
                                <div class="flex justify-between items-center">
                                    <div class="flex -space-x-2">
                                        <div class="w-6 h-6 rounded-full bg-purple-200 border-2 border-white"></div>
                                        <div class="w-6 h-6 rounded-full bg-blue-200 border-2 border-white"></div>
                                        <div class="w-6 h-6 rounded-full bg-green-200 border-2 border-white"></div>
                                    </div>
                                    <button class="text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded hover:bg-purple-200">Join</button>
                                </div>
                            </div>
                            <div class="p-3 bg-gray-50 rounded-lg border border-gray-200">
                                <p class="font-medium text-sm">IoT Smart Home System</p>
                                <p class="text-xs text-gray-500 mb-2">ECE Project • 5 members</p>
                                <div class="flex justify-between items-center">
                                    <div class="flex -space-x-2">
                                        <div class="w-6 h-6 rounded-full bg-yellow-200 border-2 border-white"></div>
                                        <div class="w-6 h-6 rounded-full bg-red-200 border-2 border-white"></div>
                                        <div class="w-6 h-6 rounded-full bg-indigo-200 border-2 border-white"></div>
                                        <div class="w-6 h-6 rounded-full bg-pink-200 border-2 border-white"></div>
                                    </div>
                                    <button class="text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded hover:bg-purple-200">Join</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h2 class="text-lg font-semibold text-gray-800 mb-3">Upcoming Events</h2>
                        <div class="space-y-3">
                            <div class="p-3 bg-blue-50 rounded-lg border border-blue-100">
                                <p class="font-medium text-sm flex items-center">
                                    <i class="fas fa-calendar-day text-blue-500 mr-2"></i>
                                    Hackathon 2023
                                </p>
                                <p class="text-xs text-gray-500">Nov 15-17 • CSE Dept</p>
                            </div>
                            <div class="p-3 bg-green-50 rounded-lg border border-green-100">
                                <p class="font-medium text-sm flex items-center">
                                    <i class="fas fa-chalkboard-teacher text-green-500 mr-2"></i>
                                    Senior Talk Series
                                </p>
                                <p class="text-xs text-gray-500">Nov 20 • 4:00 PM</p>
                            </div>
                            <div class="p-3 bg-purple-50 rounded-lg border border-purple-100">
                                <p class="font-medium text-sm flex items-center">
                                    <i class="fas fa-laptop-code text-purple-500 mr-2"></i>
                                    Coding Workshop
                                </p>
                                <p class="text-xs text-gray-500">Nov 25 • 10:00 AM</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Question Modal -->
        <div id="questionModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 hidden">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden">
                <div class="flex justify-between items-center border-b p-4">
                    <h2 class="text-xl font-bold text-gray-800">Ask a Question</h2>
                    <button id="closeQuestionModal" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="p-4 overflow-y-auto" style="max-height: 70vh;">
                    <div class="mb-4">
                        <label class="block text-gray-700 mb-2" for="questionTitle">Question Title</label>
                        <input type="text" id="questionTitle" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Be specific about your problem">
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 mb-2" for="questionCategory">Category</label>
                        <select id="questionCategory" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                            <option value="">Select a category</option>
                            <option value="cse">Computer Science</option>
                            <option value="ece">Electronics</option>
                            <option value="mech">Mechanical</option>
                            <option value="math">Mathematics</option>
                            <option value="physics">Physics</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 mb-2" for="questionDetails">Details</label>
                        <textarea id="questionDetails" rows="6" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Provide all the details someone would need to answer your question"></textarea>
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 mb-2">Add Code (Optional)</label>
                        <div class="border rounded-lg overflow-hidden">
                            <div class="bg-gray-800 text-white px-4 py-2 flex justify-between items-center">
                                <span class="text-sm">Select language</span>
                                <select class="bg-gray-700 text-white text-sm px-2 py-1 rounded">
                                    <option>JavaScript</option>
                                    <option>Python</option>
                                    <option>Java</option>
                                    <option>C++</option>
                                </select>
                            </div>
                            <textarea class="w-full px-4 py-2 bg-gray-900 text-green-400 font-mono text-sm" rows="5" placeholder="Paste your code here"></textarea>
                        </div>
                    </div>
                </div>
                <div class="border-t p-4 flex justify-end">
                    <button id="cancelQuestionBtn" class="px-4 py-2 text-gray-600 font-medium mr-2 rounded-lg hover:bg-gray-100">Cancel</button>
                    <button id="submitQuestionBtn" class="px-6 py-2 gradient-bg text-white font-medium rounded-lg hover:opacity-90">Post Question</button>
                </div>
            </div>
        </div>

        <!-- Chat Modal -->
        <div id="chatModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 hidden">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-4xl h-[80vh] flex flex-col">
                <div class="flex justify-between items-center border-b p-4">
                    <div>
                        <h2 id="chatQuestionTitle" class="text-xl font-bold text-gray-800">How to implement Dijkstra's algorithm in Python?</h2>
                        <p class="text-sm text-gray-500">Asked by <span id="chatQuestionAuthor">Rahul Sharma</span> • <span id="chatQuestionTime">2 hours ago</span></p>
                    </div>
                    <button id="closeChatModal" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div id="chatMessages" class="flex-1 overflow-y-auto p-4 space-y-4">
                    <!-- Messages will be dynamically inserted here -->
                </div>
                <div class="border-t p-4">
                    <div class="flex items-center">
                        <div class="flex-1 relative">
                            <textarea id="chatMessageInput" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500" rows="1" placeholder="Type your answer or clarification..."></textarea>
                            <div class="absolute right-2 bottom-2 flex space-x-2">
                                <button class="text-gray-500 hover:text-purple-600">
                                    <i class="fas fa-paperclip"></i>
                                </button>
                                <button class="text-gray-500 hover:text-purple-600">
                                    <i class="fas fa-code"></i>
                                </button>
                            </div>
                        </div>
                        <button id="sendMessageBtn" class="ml-3 px-4 py-2 gradient-bg text-white rounded-lg hover:opacity-90">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                    <div class="mt-2 text-xs text-gray-500">
                        <p>Remember: Helpful answers earn you AICTE points!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample data for the demo
        const sampleQuestions = [
            {
                id: 1,
                title: "How to implement Dijkstra's algorithm in Python?",
                author: "Rahul Sharma",
                time: "2 hours ago",
                category: "cse",
                content: "I'm trying to implement Dijkstra's algorithm for my data structures project but I'm stuck on how to properly update the distances. Can someone explain the priority queue part?",
                answers: 3,
                views: 24,
                upvotes: 5,
                answered: true
            },
            {
                id: 2,
                title: "Understanding MOSFET characteristics",
                author: "Priya Patel",
                time: "5 hours ago",
                category: "ece",
                content: "I'm having trouble interpreting the drain characteristics curve for my electronics lab. What exactly does the pinch-off voltage indicate?",
                answers: 1,
                views: 18,
                upvotes: 3,
                answered: false
            },
            {
                id: 3,
                title: "Calculating moment of inertia for irregular shapes",
                author: "Amit Kumar",
                time: "1 day ago",
                category: "mech",
                content: "For our mechanics assignment, we need to find the moment of inertia for an L-shaped beam. What's the best approach to divide the shape into regular parts?",
                answers: 4,
                views: 32,
                upvotes: 7,
                answered: true
            },
            {
                id: 4,
                title: "Solving differential equations with boundary conditions",
                author: "Neha Gupta",
                time: "1 day ago",
                category: "math",
                content: "I'm stuck on solving y'' + y = 0 with y(0)=1 and y(π/2)=2. The general solution is y = A cos x + B sin x, but I can't satisfy both conditions. What am I missing?",
                answers: 2,
                views: 21,
                upvotes: 4,
                answered: true
            },
            {
                id: 5,
                title: "Best practices for React state management",
                author: "Sanjay Verma",
                time: "2 days ago",
                category: "cse",
                content: "For our web development project, we're using React. When should we use Context API vs Redux? Are there any performance considerations?",
                answers: 5,
                views: 45,
                upvotes: 12,
                answered: true
            }
        ];

        const sampleMessages = [
            {
                id: 1,
                author: "Rahul Sharma",
                time: "2 hours ago",
                content: "I'm trying to implement Dijkstra's algorithm for my data structures project but I'm stuck on how to properly update the distances. Can someone explain the priority queue part?",
                isQuestion: true
            },
            {
                id: 2,
                author: "Priya Patel",
                time: "1 hour ago",
                content: "The priority queue is used to always extract the node with the smallest tentative distance. You need to update the queue when you find a shorter path to a node.",
                isQuestion: false,
                isSenior: true
            },
            {
                id: 3,
                author: "Amit Kumar",
                time: "45 minutes ago",
                content: "Here's a code snippet that might help:\n\n```python\nimport heapq\ndef dijkstra(graph, start):\n    distances = {node: float('infinity') for node in graph}\n    distances[start] = 0\n    pq = [(0, start)]\n    while pq:\n        current_distance, current_node = heapq.heappop(pq)\n        # Important: Skip if we found a better distance already\n        if current_distance > distances[current_node]:\n            continue\n        for neighbor, weight in graph[current_node].items():\n            distance = current_distance + weight\n            if distance < distances[neighbor]:\n                distances[neighbor] = distance\n                heapq.heappush(pq, (distance, neighbor))\n    return distances\n```",
                isQuestion: false,
                isSenior: true,
                isCode: true
            },
            {
                id: 4,
                author: "You",
                time: "30 minutes ago",
                content: "Thanks Amit! The continue part was what I was missing. I'll implement this and let you know if I have any issues.",
                isQuestion: false
            }
        ];

        // DOM Elements
        const preloader = document.getElementById('preloader');
        const app = document.getElementById('app');
        const emailModal = document.getElementById('emailModal');
        const deptYearModal = document.getElementById('deptYearModal');
        const authModal = document.getElementById('authModal');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const loginEmail = document.getElementById('loginEmail');
        const loginPassword = document.getElementById('loginPassword');
        const loginBtn = document.getElementById('loginBtn');
        const registerEmail = document.getElementById('registerEmail');
        const registerPassword = document.getElementById('registerPassword');
        const registerBtn = document.getElementById('registerBtn');
        const showRegisterBtn = document.getElementById('showRegisterBtn');
        const showLoginBtn = document.getElementById('showLoginBtn');
        const closeAuthModal = document.getElementById('closeAuthModal');
        const emailError = document.getElementById('emailError');
        const registerEmailError = document.getElementById('registerEmailError');
        const userMenuBtn = document.getElementById('userMenuBtn');
        const userMenu = document.getElementById('userMenu');
        const logoutBtn = document.getElementById('logoutBtn');
        const usernameDisplay = document.getElementById('usernameDisplay');
        const userEmailDisplay = document.getElementById('userEmailDisplay');
        const userYearBranchDisplay = document.getElementById('userYearBranchDisplay');
        const questionsList = document.getElementById('questionsList');
        const newQuestionBtn = document.getElementById('newQuestionBtn');
        const questionModal = document.getElementById('questionModal');
        const closeQuestionModal = document.getElementById('closeQuestionModal');
        const cancelQuestionBtn = document.getElementById('cancelQuestionBtn');
        const submitQuestionBtn = document.getElementById('submitQuestionBtn');
        const chatModal = document.getElementById('chatModal');
        const closeChatModal = document.getElementById('closeChatModal');
        const chatMessages = document.getElementById('chatMessages');
        const chatMessageInput = document.getElementById('chatMessageInput');
        const sendMessageBtn = document.getElementById('sendMessageBtn');
        const chatQuestionTitle = document.getElementById('chatQuestionTitle');
        const chatQuestionAuthor = document.getElementById('chatQuestionAuthor');
        const chatQuestionTime = document.getElementById('chatQuestionTime');
        const filterQuestions = document.getElementById('filterQuestions');
        const categoryBtns = document.querySelectorAll('.category-btn');
        const notificationBtn = document.getElementById('notificationBtn');
        const notificationMenu = document.getElementById('notificationMenu');

        // State
        let currentUser = null;
        
        function generateRandomQuestions() {
            const subjects = ['Python', 'Java', 'C++', 'Data Structures', 'Algorithms', 'Database', 'Networking', 'OS'];
            const difficulties = ['basic', 'intermediate', 'advanced'];
            const verbs = ['implement', 'solve', 'optimize', 'debug', 'understand', 'explain'];
            
            sampleQuestions = Array.from({length: 5}, (_, i) => ({
                id: i+1,
                title: `How to ${verbs[Math.floor(Math.random() * verbs.length)]} ${subjects[Math.floor(Math.random() * subjects.length)]} ${difficulties[Math.floor(Math.random() * difficulties.length)]} problem?`,
                author: ["Rahul Sharma", "Priya Patel", "Amit Kumar", "Neha Gupta", "Sanjay Verma"][Math.floor(Math.random() * 5)],
                time: `${Math.floor(Math.random() * 24)} hours ago`,
                category: ['cse', 'ece', 'mech', 'math'][Math.floor(Math.random() * 4)],
                content: `I'm working on a ${difficulties[Math.floor(Math.random() * difficulties.length)]} ${subjects[Math.floor(Math.random() * subjects.length)]} problem and need help with ${verbs[Math.floor(Math.random() * verbs.length)]} it. Can someone explain the best approach?`,
                answers: Math.floor(Math.random() * 10),
                views: Math.floor(Math.random() * 50),
                upvotes: Math.floor(Math.random() * 15),
                answered: Math.random() > 0.3
            }));
        }
        let currentCategory = 'all';
        let currentFilter = 'recent';

        // Functions
        function getRandomEmoji() {
            const emojis = ['😀', '😎', '🤓', '🧐', '👨‍💻', '👩‍💻', '🤖', '👾', '🐱', '🦊', '🐶', '🐼'];
            return emojis[Math.floor(Math.random() * emojis.length)];
        }

        function validateEmail(email) {
            return email.endsWith('@vvce.ac.in');
        }

        function showError(element, message) {
            element.textContent = message;
            element.classList.remove('hidden');
        }

        function hideError(element) {
            element.classList.add('hidden');
        }

        function renderQuestions() {
            questionsList.innerHTML = '';
            
            let filteredQuestions = [...sampleQuestions];
            
            // Filter by category
            if (currentCategory !== 'all') {
                filteredQuestions = filteredQuestions.filter(q => q.category === currentCategory);
            }
            
            // Filter by filter type
            if (currentFilter === 'popular') {
                filteredQuestions.sort((a, b) => b.upvotes - a.upvotes);
            } else if (currentFilter === 'unanswered') {
                filteredQuestions = filteredQuestions.filter(q => !q.answered);
            } else if (currentFilter === 'myquestions') {
                // In a real app, this would filter by current user
                filteredQuestions = filteredQuestions.filter(q => q.author === "You");
            } else {
                // Default: most recent (already sorted this way in sample data)
            }
            
            filteredQuestions.forEach(question => {
                const questionCard = document.createElement('div');
                questionCard.className = 'bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition cursor-pointer question-card';
                questionCard.dataset.id = question.id;
                
                let categoryColor = 'purple';
                let categoryIcon = 'fa-laptop-code';
                
                if (question.category === 'ece') {
                    categoryColor = 'blue';
                    categoryIcon = 'fa-microchip';
                } else if (question.category === 'mech') {
                    categoryColor = 'yellow';
                    categoryIcon = 'fa-cogs';
                } else if (question.category === 'math') {
                    categoryColor = 'red';
                    categoryIcon = 'fa-square-root-alt';
                }
                
                questionCard.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="font-semibold text-gray-800">${question.title}</h3>
                        <span class="px-2 py-1 text-xs rounded-full bg-${categoryColor}-100 text-${categoryColor}-800 flex items-center">
                            <i class="fas ${categoryIcon} mr-1"></i>
                            ${question.category.toUpperCase()}
                        </span>
                    </div>
                    <p class="text-gray-600 text-sm mb-3 line-clamp-2">${question.content}</p>
                    <div class="flex justify-between items-center text-sm">
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded-full bg-gray-200 mr-2 flex items-center justify-center">
                                <i class="fas fa-user text-xs text-gray-600"></i>
                            </div>
                            <span class="text-gray-700">${question.author}</span>
                        </div>
                        <div class="flex space-x-3">
                            <span class="flex items-center text-gray-500">
                                <i class="fas fa-comment mr-1"></i>
                                ${question.answers}
                            </span>
                            <span class="flex items-center text-gray-500">
                                <i class="fas fa-eye mr-1"></i>
                                ${question.views}
                            </span>
                            <span class="flex items-center text-gray-500">
                                <i class="fas fa-thumbs-up mr-1"></i>
                                ${question.upvotes}
                            </span>
                        </div>
                    </div>
                `;
                
                questionsList.appendChild(questionCard);
            });
            
            // Add click event to question cards
            document.querySelectorAll('.question-card').forEach(card => {
                card.addEventListener('click', () => {
                    const questionId = parseInt(card.dataset.id);
                    openChatModal(questionId);
                });
            });
        }

        function openChatModal(questionId) {
            const question = sampleQuestions.find(q => q.id === questionId);
            if (!question) return;
            
            chatQuestionTitle.textContent = question.title;
            chatQuestionAuthor.textContent = question.author;
            chatQuestionTime.textContent = question.time;
            
            // Clear previous messages
            chatMessages.innerHTML = '';
            
            // Add new messages
            sampleMessages.forEach(message => {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message-enter ${message.isQuestion ? 'bg-purple-50 border-l-4 border-purple-500 p-3 rounded-r-lg' : 
                    message.isSenior ? 'bg-blue-50 border-l-4 border-blue-500 p-3 rounded-r-lg' : 
                    'bg-gray-50 p-3 rounded-lg'}`;
                
                if (message.isCode) {
                    messageDiv.innerHTML = `
                        <div class="flex justify-between items-start mb-1">
                            <div class="flex items-center">
                                <div class="w-6 h-6 rounded-full ${message.isSenior ? 'bg-blue-100' : 'bg-gray-200'} mr-2 flex items-center justify-center">
                                    <span class="text-xs">${getRandomEmoji()}</span>
                                </div>
                                <span class="font-medium ${message.isSenior ? 'text-blue-700' : 'text-gray-700'}">${message.author}</span>
                            </div>
                            <span class="text-xs text-gray-500">${message.time}</span>
                        </div>
                        <div class="bg-gray-800 text-white p-3 rounded mt-1 overflow-x-auto">
                            <pre class="text-green-400 font-mono text-sm">${message.content.split('```')[1]}</pre>
                        </div>
                    `;
                } else {
                    messageDiv.innerHTML = `
                        <div class="flex justify-between items-start mb-1">
                            <div class="flex items-center">
                                <div class="w-6 h-6 rounded-full ${message.isSenior ? 'bg-blue-100' : 'bg-gray-200'} mr-2 flex items-center justify-center">
                                    <i class="fas fa-user text-xs ${message.isSenior ? 'text-blue-600' : 'text-gray-600'}"></i>
                                </div>
                                <span class="font-medium ${message.isSenior ? 'text-blue-700' : 'text-gray-700'}">${message.author}</span>
                            </div>
                            <span class="text-xs text-gray-500">${message.time}</span>
                        </div>
                        <p class="text-gray-700 whitespace-pre-line">${message.content}</p>
                    `;
                }
                
                chatMessages.appendChild(messageDiv);
            });
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Show modal
            chatModal.classList.remove('hidden');
        }

        function closeAllModals() {
            emailModal.classList.add('hidden');
            deptYearModal.classList.add('hidden');
            authModal.classList.add('hidden');
            questionModal.classList.add('hidden');
            chatModal.classList.add('hidden');
        }

        // Event Listeners
        notificationBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            notificationMenu.classList.toggle('hidden');
            userMenu.classList.add('hidden');
        });

        window.addEventListener('load', () => {
            setTimeout(() => {
                preloader.classList.add('hidden');
                emailModal.classList.remove('hidden');
            }, 1500);
        });

        // Email verification
        document.getElementById('verifyEmailBtn').addEventListener('click', () => {
            const email = document.getElementById('verifyEmail').value.trim();
            
            if (!validateEmail(email)) {
                showError(document.getElementById('emailError'), "Please use your @vvce.ac.in email");
                return;
            }
            
            emailModal.classList.add('hidden');
            deptYearModal.classList.remove('hidden');
        });

        // Department/Year selection
        document.getElementById('confirmDetailsBtn').addEventListener('click', () => {
            const year = document.getElementById('selectYear').value;
            const branch = document.getElementById('selectBranch').value;
            
            if (!year || !branch) {
                alert("Please select both year and branch");
                return;
            }
            
            deptYearModal.classList.add('hidden');
            authModal.classList.remove('hidden');
            
            // Pre-fill register form with verified email and selected year/branch
            const email = document.getElementById('verifyEmail').value.trim();
            document.getElementById('registerEmail').value = email;
            document.getElementById('registerYear').value = year;
            document.getElementById('registerBranch').value = branch;
            
            // Store the raw year value in a data attribute for later use
            document.getElementById('registerYear').dataset.rawValue = year;
        });

        // Close modals
        document.getElementById('closeEmailModal').addEventListener('click', () => {
            emailModal.classList.add('hidden');
        });

        document.getElementById('closeDeptYearModal').addEventListener('click', () => {
            deptYearModal.classList.add('hidden');
        });

        loginBtn.addEventListener('click', () => {
            const email = loginEmail.value.trim();
            const password = loginPassword.value.trim();
            
            if (!validateEmail(email)) {
                showError(emailError, "Please use your @vvce.ac.in email");
                return;
            }
            
            if (password.length < 6) {
                alert("Password must be at least 6 characters");
                return;
            }
            
            // In a real app, you would authenticate here
            // Get the year and branch from registration form if available
            const year = document.getElementById('registerYear').value || "3";
            const branch = document.getElementById('registerBranch').value || "CSE";
            const yearText = year === "1" ? "1st Year" : year === "2" ? "2nd Year" : year === "3" ? "3rd Year" : "4th Year";
            
            currentUser = {
                name: "Demo User",
                email: email,
                year: yearText,
                branch: branch,
                points: 24,
                rawYear: year
            };
            
            closeAllModals();
            app.classList.remove('hidden');
            
            // Update user info
            usernameDisplay.textContent = currentUser.name;
            userEmailDisplay.textContent = currentUser.email;
            userYearBranchDisplay.textContent = `${currentUser.year} ${currentUser.branch}`;
            
            // Generate new random questions
            generateRandomQuestions();
            renderQuestions();
        });

        registerBtn.addEventListener('click', () => {
            const email = registerEmail.value.trim();
            const password = registerPassword.value.trim();
            const name = document.getElementById('registerName').value.trim();
            const year = document.getElementById('registerYear').value;
            const branch = document.getElementById('registerBranch').value;
            
            if (!validateEmail(email)) {
                showError(registerEmailError, "Please use your @vvce.ac.in email");
                return;
            }
            
            if (password.length < 6) {
                alert("Password must be at least 6 characters");
                return;
            }
            
            if (!name || !year || !branch) {
                alert("Please fill in all fields");
                return;
            }
            
            // In a real app, you would register the user here
            const yearText = year === "1" ? "1st Year" : year === "2" ? "2nd Year" : year === "3" ? "3rd Year" : "4th Year";
            app.classList.add('app-entry');
            currentUser = {
                name: name,
                email: email,
                year: yearText,
                branch: branch,
                points: 0,
                rawYear: year // Store the raw year value for later use
            };
            userYearBranchDisplay.textContent = `${yearText} ${branch}`;
            
            closeAllModals();
            app.classList.remove('hidden');
            
            // Update user info
            usernameDisplay.textContent = currentUser.name;
            userEmailDisplay.textContent = currentUser.email;
            userYearBranchDisplay.textContent = `${currentUser.year} ${currentUser.branch}`;
            
            // Render questions
            renderQuestions();
            
            alert("Registration successful! Welcome to LEARN-LOOP.");
        });

        showRegisterBtn.addEventListener('click', () => {
            loginForm.classList.add('hidden');
            registerForm.classList.remove('hidden');
        });

        showLoginBtn.addEventListener('click', () => {
            registerForm.classList.add('hidden');
            loginForm.classList.remove('hidden');
        });

        closeAuthModal.addEventListener('click', closeAllModals);

        loginEmail.addEventListener('input', () => {
            hideError(emailError);
        });

        registerEmail.addEventListener('input', () => {
            hideError(registerEmailError);
        });

        userMenuBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            userMenu.classList.toggle('hidden');
        });

        logoutBtn.addEventListener('click', (e) => {
            e.preventDefault();
            currentUser = null;
            app.classList.add('hidden');
            authModal.classList.remove('hidden');
            loginForm.classList.remove('hidden');
            registerForm.classList.add('hidden');
            userMenu.classList.add('hidden');
            
            // Reset form fields
            loginEmail.value = '';
            loginPassword.value = '';
            registerEmail.value = '';
            registerPassword.value = '';
            document.getElementById('registerName').value = '';
            document.getElementById('registerYear').value = '';
            document.getElementById('registerBranch').value = '';
        });

        newQuestionBtn.addEventListener('click', () => {
            questionModal.classList.remove('hidden');
        });

        closeQuestionModal.addEventListener('click', () => {
            questionModal.classList.add('hidden');
        });

        cancelQuestionBtn.addEventListener('click', () => {
            questionModal.classList.add('hidden');
        });

        submitQuestionBtn.addEventListener('click', () => {
            const title = document.getElementById('questionTitle').value.trim();
            const category = document.getElementById('questionCategory').value;
            const details = document.getElementById('questionDetails').value.trim();
            
            if (!title || !category || !details) {
                alert("Please fill in all required fields");
                return;
            }
            
            // In a real app, you would submit the question to a backend
            alert("Question submitted successfully!");
            questionModal.classList.add('hidden');
            
            // Reset form
            document.getElementById('questionTitle').value = '';
            document.getElementById('questionCategory').value = '';
            document.getElementById('questionDetails').value = '';
            
            // Add to questions list (in a real app, this would come from the backend)
            const newQuestion = {
                id: sampleQuestions.length + 1,
                title: title,
                author: "You",
                time: "Just now",
                category: category,
                content: details,
                answers: 0,
                views: 0,
                upvotes: 0,
                answered: false
            };
            
            sampleQuestions.unshift(newQuestion);
            renderQuestions();
        });

        closeChatModal.addEventListener('click', () => {
            chatModal.classList.add('hidden');
        });

        sendMessageBtn.addEventListener('click', () => {
            const message = chatMessageInput.value.trim();
            if (!message) return;
            
            // In a real app, you would send this to a backend
            const newMessage = {
                id: sampleMessages.length + 1,
                author: "You",
                time: "Just now",
                content: message,
                isQuestion: false,
                isSenior: false,
                isCode: false
            };
            
            sampleMessages.push(newMessage);
            
            // Add to chat
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message-enter bg-gray-50 p-3 rounded-lg';
            messageDiv.innerHTML = `
                <div class="flex justify-between items-start mb-1">
                    <div class="flex items-center">
                        <div class="w-6 h-6 rounded-full bg-gray-200 mr-2 flex items-center justify-center">
                            <i class="fas fa-user text-xs text-gray-600"></i>
                        </div>
                        <span class="font-medium text-gray-700">You</span>
                    </div>
                    <span class="text-xs text-gray-500">Just now</span>
                </div>
                <p class="text-gray-700">${message}</p>
            `;
            
            chatMessages.appendChild(messageDiv);
            chatMessageInput.value = '';
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
        });

        chatMessageInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessageBtn.click();
            }
        });

        filterQuestions.addEventListener('change', () => {
            currentFilter = filterQuestions.value;
            renderQuestions();
        });

        categoryBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                currentCategory = btn.dataset.category;
                renderQuestions();
                
                // Update active state
                categoryBtns.forEach(b => b.classList.remove('bg-purple-100', 'bg-blue-100', 'bg-green-100', 'bg-yellow-100', 'bg-red-100'));
                
                if (currentCategory !== 'all') {
                    let bgClass = 'bg-purple-100';
                    if (currentCategory === 'ece') bgClass = 'bg-blue-100';
                    else if (currentCategory === 'mech') bgClass = 'bg-yellow-100';
                    else if (currentCategory === 'math') bgClass = 'bg-red-100';
                    
                    btn.classList.add(bgClass);
                }
            });
        });

        // Close dropdowns when clicking outside
        document.addEventListener('click', (e) => {
            if (!userMenuBtn.contains(e.target) && !userMenu.contains(e.target)) {
                userMenu.classList.add('hidden');
            }
            
            if (e.target === authModal) {
                closeAllModals();
            }
            if (e.target === questionModal) {
                questionModal.classList.add('hidden');
            }
            if (e.target === chatModal) {
                chatModal.classList.add('hidden');
            }
        });
    </script>
</body>
</html>
